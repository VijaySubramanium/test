<!DOCTYPE html>
<html lang="en">

<head>
    <!-- Required meta tags -->
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <!-- Bootstrap CSS -->
    <!-- <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
	<link rel="stylesheet" href="https://maxst.icons8.com/vue-static/landings/line-awesome/line-awesome/1.3.0/css/line-awesome.min.css">
	 <link href="css/style.css" rel="stylesheet" > -->

    <title>TJM - Training Journey Management</title>
</head>

<body>
    <app-spinner></app-spinner>

    <div class="container-fluid p-0">
        <div class="row g-0">
            <div class="col-lg-4">
                <div class="reg-left">
                    <img src="assets/img/logo.png" class="logo" />
                    <div class="rl-mid">
                        <img src="assets/img/reg.png" class="img-fluid" />
                        <h1>Join our community now</h1>
                        <h2>Access to the most powerful tool to build your career</h2>
                        <div class="login-logo-optional">
                            <img src="assets/img/logo_opt.png" class="logo-optional">
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-lg-8">
                <p-toast [breakpoints]="{
              '920px': { width: '100%', right: '0', left: '0' }
            }"></p-toast>
                <form #f="ngForm" name="form" (ngSubmit)="(f)">
                    <div class="reg-right min-vh-100">
                        <div class="row">

                            <!-- Academic Institute Name -->
                            <div class="col-md-12 mb-3">
                                <label class="mb-2">Academic Institution Name</label><span class="required"> *</span><br />
                                <p-dropdown [options]="collegeNewDetails" [resetFilterOnHide]="true" (onChange)="changeCollege($event, f)" (onClear)="clearEvent(f)" [(ngModel)]="selectedCollege" name="collegename" #collegename="ngModel" optionLabel="academic_institution_name" [filter]="true" filterBy="academic_institution_name"
                                    [showClear]="true" placeholder="Select a College">
                                    <ng-template pTemplate="selectedItem">
                                        <div class="college-item college-item-value" *ngIf="selectedCollege">
                                            <div>{{selectedCollege.academic_institution_name}}</div>
                                        </div>
                                    </ng-template>
                                    <ng-template let-college pTemplate="item">
                                        <div [ngClass]="(college.tpo_status == true) ? 'college_item' : 'college-item' ">
                                            <div>{{college.academic_institution_name}}</div>
                                        </div>
                                    </ng-template>
                                </p-dropdown>
                                <div style="display: block" class="invalid-feedback">
                                    <div *ngIf="(f.submitted && selectedCollege == null)">
                                        Academic institution name is required
                                    </div>
                                </div>
                            </div>


                            <!-- Academic Institution name -->
                            <div class="col-md-12 mb-3" *ngIf="selectedCollege != null && selectedCollege.academic_institution_id == 0">
                                <label class="mb-2">Academic Institution Name</label><span class="required"> *</span>
                                <input required pattern="^[a-zA-Z0-9.'\s&]+$" type="text" [(ngModel)]="userModel.otherAcademicInstitutionName" #othercollegename="ngModel" name="othercollegename" class="form-control" id="othercollegename" />
                                <div style="display: block" class="invalid-feedback">
                                    <div *ngIf="(f.submitted && othercollegename.untouched) || othercollegename.touched" class="error">
                                        <div *ngIf="othercollegename.errors?.['required']">
                                            Academic institution name is required
                                        </div>
                                    </div>
                                    <div *ngIf="othercollegename.touched && othercollegename.invalid" class="error">
                                        <div *ngIf="othercollegename.errors?.['pattern']">
                                            Enter a valid data
                                        </div>
                                    </div>
                                </div>
                            </div>


                            <!-- Address -->
                            <div class="col-md-12 mb-3">
                                <label class="mb-1" for="address_line">Address line</label><span class="required"> *</span>
                                <input required pattern="[a-zA-Z0-9-]*+" type="text" [readonly]="readonlyField" [(ngModel)]="userModel.address" #address="ngModel" name="address" class="form-control" id="address_line" />
                                <div style="display: block" class="invalid-feedback">
                                    <div *ngIf="
                        (f.submitted && address.untouched) || address.touched
                      " class="error">
                                        <div *ngIf="address.errors?.['required']">
                                            Address line is required
                                        </div>
                                    </div>
                                    <div *ngIf="address.touched && address.invalid" class="error">
                                        <div *ngIf="address.errors?.['pattern']">
                                            Enter a valid data
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <!-- State -->
                            <div class="col-md-6 mb-3">
                                <label class="mb-1">State</label><span class="required"> *</span>
                                <select required class="form-select" [disabled]="readonlyField" (change)="FilterCity($any($event.target).value)" [(ngModel)]="userModel.state" #state="ngModel" name="state">
                  <option value="" disabled selected hidden>
                    -- Select the State --
                  </option>
                  <option *ngFor="let x of stateDetails" value="{{ x.stateid }}_{{ x.state }}">
                    {{ x.state }}
                  </option>
                </select>
                                <div style="display: block" class="invalid-feedback">
                                    <div *ngIf="(f.submitted && state.untouched) || state.touched" class="error">
                                        <div *ngIf="state.errors?.['required']">
                                            Select the state field
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <!-- City -->
                            <div class="col-md-6 mb-3">
                                <label class="mb-1">City</label><span class="required"> *</span>
                                <select required class="form-select" [disabled]="readonlyField" [(ngModel)]="userModel.city" #city="ngModel" name="city">
                  <option value="" disabled selected hidden>
                    -- Select the City --
                  </option>
                  <option *ngFor="let x of cityDetails" value="{{ x.cityid }}_{{ x.cityname }}">
                    {{ x.cityname }}
                  </option>
                </select>
                                <div style="display: block" class="invalid-feedback">
                                    <div *ngIf="(f.submitted && city.untouched) || city.touched" class="error">
                                        <div *ngIf="city.errors?.['required']">
                                            Select the city field
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <!-- College Code -->
                            <!-- <div class="col-md-6 mb-3">
                <label class="mb-1">Academic institution code</label><span class="required"> *</span>
                <input required pattern="^(?=.*\d)[a-zA-Z]{4,}\d*" type="text" class="form-control" id=""
                  [(ngModel)]="userModel.code" #collegecode="ngModel" name="collegecode" />
                <div style="display: block" class="invalid-feedback">
                  <div *ngIf="
                        (f.submitted && collegecode.untouched) ||
                        collegecode.touched
                      " class="error">
                    <div *ngIf="collegecode.errors?.['required']">
                      Academic institution code is required
                    </div>
                  </div>
                  <div *ngIf="collegecode.touched && collegecode.invalid" class="error">
                    <div *ngIf="collegecode.errors?.['pattern']">
                      Enter a valid data
                    </div>
                  </div>
                </div>
              </div> -->


                            <!-- TPO Name -->
                            <div class="col-md-6 mb-2" *ngIf="disabledTPOOption">
                                <label class="mb-2">TPO Name</label><span class="required"> *</span>
                                <input [readonly]="readonlyField" type="text" class="form-control" id="" [(ngModel)]="disabledTPOName" #tpomobile="ngModel" name="tpoDisableName" />
                            </div>

                            <!-- TPO Name -->
                            <div class="col-md-6 mb-3" *ngIf="!disabledTPOOption">
                                <label class="mb-1">TPO Name</label><span class="required"> *</span>
                                <select required class="form-select" [disabled]="readonlyField" (change)="getTPODetails($any($event.target).value)" [(ngModel)]="userModel.tpoUserid" #tponame="ngModel" name="tponame">
                  <option value="" disabled selected hidden>
                    -- Select --
                  </option>
                  <option *ngFor="let x of topNameDetails" value="{{ x.userid }}_{{ x.firstname }} {{ x.lastname }}">
                    {{ x.firstname }} {{ x.lastname}}
                  </option>
                </select>

                                <div style="display: block" class="invalid-feedback">
                                    <div *ngIf="(f.submitted && tponame.untouched) || tponame.touched">
                                        <div *ngIf="tponame.errors?.['required']">
                                            Select the TPO name field
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <!-- TPO Mobile Number -->
                            <div class="col-md-6 mb-3">
                                <label class="mb-1"> TPO Mobile Number</label><span class="required"> *</span>
                                <input readonly required pattern="^[+0]{0,2}(91)?[0-9]{10}$" type="text" class="form-control" id="" [(ngModel)]="userModel.tpoContactNumber" #tpomobile="ngModel" name="tpomobile" />
                                <div style="display: block" class="invalid-feedback">
                                    <div *ngIf="
                        (f.submitted && tpomobile.untouched) ||
                        tpomobile.touched
                      " class="error">
                                        <div *ngIf="tpomobile.errors?.['required']">
                                            TPO mobile is required
                                        </div>
                                    </div>
                                    <div *ngIf="tpomobile.touched && tpomobile.invalid" class="error">
                                        <div *ngIf="tpomobile.errors?.['pattern']">
                                            Enter a valid data
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <!-- TPO Email -->
                            <div class="col-md-6 mb-3">
                                <label class="mb-1">TPO Email</label><span class="required"> *</span>
                                <input readonly required type="text" pattern="^([a-zA-Z0-9.!#$%&'*+=?^_`{|}~-]+)(@[a-zA-Z0-9]+)(.[a-zA-Z0-9]{2,4}){1,}$" class="form-control" id="" [(ngModel)]="userModel.tpoEmailId" #email="ngModel" name="email" />
                                <div style="display: block" class="invalid-feedback">
                                    <div *ngIf="(f.submitted && email.untouched) || email.touched" class="error">
                                        <div *ngIf="email.errors?.['required']">
                                            TPO email id is required
                                        </div>
                                    </div>
                                    <div *ngIf="email.touched && email.invalid" class="error">
                                        <div *ngIf="email.errors?.['pattern']">
                                            Enter a valid data
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <!-- Instution Short Name -->
                            <div class="col-md-6 mb-3">
                                <label class="mb-1">Academic Institution Short Name</label><span class="required"> *</span>
                                <input required type="text" [readonly]="readonlyField" pattern="^[A-Z]{3,6} *$" class="form-control" id="" [(ngModel)]="userModel.academicInstitutionShortName" oninput="this.value = this.value.toUpperCase()" #collegeshortname="ngModel"
                                    name="collegeshortname" />
                                <div style="display: block" class="invalid-feedback">
                                    <div *ngIf="
                        (f.submitted && collegeshortname.untouched) ||
                        collegeshortname.touched
                      " class="error">
                                        <div *ngIf="collegeshortname.errors?.['required']">
                                            Institution short name is required
                                        </div>
                                    </div>
                                    <div *ngIf="collegeshortname.touched && collegeshortname.invalid" class="error">
                                        <div *ngIf="collegeshortname.errors?.['pattern']">
                                            Enter a valid data
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="col-md-6 mb-3">
                                <label class="mb-1">KAM Name</label><span class="required"> *</span>
                                <select required class="form-select" [disabled]="readonlyField" (change)="getKAMDetails($any($event.target).value)" [(ngModel)]="userModel.kamUserId" #kamname="ngModel" name="kamname">
                  <option value="" disabled selected hidden>
                    -- Select --
                  </option>
                  <option *ngFor="let x of kamNameDetails" value="{{ x.userid }}_{{ x.firstname }} {{ x.lastname }}">
                    {{ x.firstname }} {{ x.lastname }}
                  </option>
                </select>
                                <div style="display: block" class="invalid-feedback">
                                    <div *ngIf="
                        (f.submitted && kamname.untouched) || kamname.touched
                      " class="error">
                                        <div *ngIf="kamname.errors?.['required']">
                                            KAM name is required
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="col-md-6 mb-4">
                                <label class="mb-2">Status</label><span class="required">*</span>
                                <select required class="form-select" title="statusvalue" name="statusvalue" [(ngModel)]="userModel.statusvalue" #statusvalue="ngModel" [disabled]="readonlyField">
                  <!-- <option value="" disabled selected hidden>status</option> -->
                  <option value="Active">Active</option>
                  <option value="Inactive">Inactive</option>
                </select>
                                <div style="display: block" class="invalid-feedback">
                                    <div *ngIf="(f.submitted && statusvalue.untouched) || statusvalue.touched">
                                        <div *ngIf="statusvalue.errors?.['required']">
                                            Select the Status field
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <!-- <div class="col-md-12 mb-3">
                                <div class="form-check">
                                    <input required class="form-check-input" [disabled]="readonlyField" title="Terms and Conditions" type="checkbox" [(ngModel)]="userModel.agree" value="" #agree="ngModel" id="agree" name="agree" />
                                    <label class="form-check-label" for="agree">
                    I agree to terms and conditions
                  </label>
                                    <div style="display: block" class="invalid-feedback">
                                        <div *ngIf="f.submitted && agree.invalid" class="error">
                                            <div *ngIf="agree.errors?.['required']">
                                                Check this box before submission
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div> -->

                            <div class="col-md-12 mb-3">
                                <button type="submit" class="btn btn-blue" [disabled]="readonlyField" (click)="onSubmit(f.form, f)">
                  Register
                </button>
                            </div>
                        </div>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- <script src=" https://cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.slim.min.js"
                  integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj"
                  crossorigin="anonymous"></script> -->
    <!-- Option 1: Bootstrap Bundle with Popper -->
    <!-- <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>
	<script src="js/common.js"></script>
    -->
</body>

</html>
